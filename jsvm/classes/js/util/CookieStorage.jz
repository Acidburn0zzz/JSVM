$package("js.util");$import("js.util.Cookie");js.util.CookieStorage = function () {var CLASS = js.util.CookieStorage, thi$ = CLASS.prototype;if (CLASS.__defined__) {this.parseCookies();return;}CLASS.__defined__ = true;var cookies;thi$.setCookie = function (name, value, expire, path, domain, secure) {this.add(new js.util.Cookie(name, value, expire, path, domain, secure));};thi$.getCookie = function (name) {var cookie = this.get(name);return cookie ? cookie.getValue() : undefined;};thi$.delCookie = function (name) {var cookie = this.get(name);if (cookie) {this.remove(cookie);}};thi$.add = function (cookie, uri) {document.cookie = cookie.toString();this.parseCookies();};thi$.get = function (name) {return cookies[name];};thi$.remove = function (cookie, uri) {cookie.setMaxAge(-1);this.add(cookie, uri);};thi$.parseCookies = function () {cookies = cookies || {};for (var p in cookies) {delete cookies[p];}var vs = document.cookie.split(";"), item, n, v;for (var i = 0, len = vs.length; i < len; i++) {item = vs[i].split("=");n = item[0];v = unescape(item[1]);cookies[n] = new js.util.Cookie(n, v);}};this.parseCookies();}.$extend(js.lang.Object);