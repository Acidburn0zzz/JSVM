$package("js.awt");$import("js.awt.Component");$import("js.awt.Dialog");js.awt.MessageBox = function (def, Runtime) {var CLASS = js.awt.MessageBox, thi$ = CLASS.prototype;if (CLASS.__defined__) {this._init.apply(this, arguments);return;}CLASS.__defined__ = true;var Class = js.lang.Class, Event = js.util.Event, DOM = J$VM.DOM, System = J$VM.System, MQ = J$VM.MQ, Str = js.lang.String, icons = {info:"info.gif", warn:"alert.gif", error:"error.gif", confirm:"confirm.gif"};thi$.getDialogData = function () {return this.def.model;}.$override(this.getDialogData);thi$.doLayout = function (force) {if (arguments.callee.__super__.apply(this, arguments)) {var bounds = this.getBounds(), icon = this.icon, label = this.label, text = this.text, h;DOM.setSize(label, bounds.innerWidth - label.offsetLeft);h = icon.offsetHeight - label.offsetHeight;h = icon.offsetTop + (h > 0 ? h / 2 : 0);DOM.setPosition(label, undefined, h);DOM.setSize(text, bounds.innerWidth - text.offsetLeft, bounds.offsetTop - text.offsetTop);return true;}return false;}.$override(this.doLayout);thi$.initialize = function () {var title = "", R = this.Runtime();switch (this.def.model.msgType) {case "info":title = R.nlsText("msgDlgInfoTitle", "Information");break;case "warn":title = R.nlsText("msgDlgWarnTitle", "Warning");break;case "error":title = R.nlsText("msgDlgErrTitle", "Error");break;case "confirm":title = R.nlsText("msgDlgConfirmTitle", "Confirm");break;}this.setTitle(title);}.$override(this.initialize);var _createElements = function (model) {var icon, label, text, R = this.Runtime();icon = this.icon = DOM.createElement("IMG");icon.className = "msg_icon";icon.src = R.imagePath() + icons[model.msgType];this.view.appendChild(icon);label = this.label = DOM.createElement("SPAN");label.className = "msg_subject";label.innerHTML = model.msgSubject;this.view.appendChild(label);text = this.text = DOM.createElement("TEXTAREA");text.className = "msg_content";text.readOnly = "true";text.innerHTML = model.msgContent;this.view.appendChild(text);};thi$._init = function (def, Runtime) {def.classType = def.classType || "js.awt.MessageBox";def.className = def.className || "jsvm_msg";arguments.callee.__super__.apply(this, arguments);var model = this.def.model || {msgType:"info", msgSubject:"Info subject", msgContent:"Info content"};_createElements.call(this, model);}.$override(this._init);this._init.apply(this, arguments);}.$extend(js.awt.Component).$implements(js.awt.DialogObject);js.awt.MessageBox.INFO = "info";js.awt.MessageBox.WARN = "warn";js.awt.MessageBox.ERROR = "error";js.awt.MessageBox.CONFIRM = "confirm";