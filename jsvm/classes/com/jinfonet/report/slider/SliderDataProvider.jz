$package("com.jinfonet.report.slider");com.jinfonet.report.slider.SliderDataProvider = function () {var CLASS = com.jinfonet.report.slider.SliderDataProvider, thi$ = CLASS.prototype;if (CLASS.__defined__) {return;}CLASS.__defined__ = true;var Class = js.lang.Class, Event = js.util.Event, DOM = J$VM.DOM, System = J$VM.System, MQ = J$VM.MQ;CLASS.INTERP_ARRAYINDEX = 0;CLASS.INTREP_NUMBER = -1;CLASS.INTERP_YEAR = 1;CLASS.INTERP_HALFYEAR = 20;CLASS.INTERP_MONTH = 2;CLASS.INTERP_HALFMONTH = 21;CLASS.INTERP_QUATER = 22;CLASS.INTERP_BIWEEK = 23;CLASS.INTERP_WEEK = 24;CLASS.INTREP_DATE = 5;CLASS.INTERP_HOUR = 10;CLASS.INTERP_MINUTE = 12;CLASS.INTERP_SECOND = 13;CLASS.DELTA_INTEGER = 1;CLASS.DELTA_DECIMAL = 0.01;thi$.Count = function () {};thi$.getMetaData = function () {};thi$.getValueByIndex = function (index) {};thi$.getDispValueByIndex = function (index) {};};com.jinfonet.report.slider.ArrayData = function (array, meta, Runtime) {var CLASS = com.jinfonet.report.slider.ArrayData, thi$ = CLASS.prototype;if (CLASS.__defined__) {this._init.apply(this, arguments);return;}CLASS.__defined__ = true;var Class = js.lang.Class, Event = js.util.Event, DOM = J$VM.DOM, System = J$VM.System, MQ = J$VM.MQ, SUPER = com.jinfonet.report.slider.SliderDataProvider, tools = Class.forName("com.jinfonet.util.Tools"), SQL = Class.forName("js.sql.Types");thi$.Count = function () {return this.count;};thi$.getMetaData = function () {return this.meta;};thi$.getValueByIndex = function (index) {var array = this.array, count = this.count, meta = this.meta, ret;switch (meta.interp) {case SUPER.INTERP_ARRAYINDEX:ret = index == 0 ? "All" : array[index - 1];break;case SUPER.INTERP_NUMBER:ret = index == 0 ? "All" : array[index - 1] + meta.delta * (index - 1);break;case SUPER.INTERP_YEAR:case SUPER.INTERP_HALFYEAR:case SUPER.INTERP_MONTH:case SUPER.INTERP_HALFMONTH:case SUPER.INTERP_QUATER:case SUPER.INTERP_WEEK:case SUPER.INTERP_BIWEEK:case SUPER.INTERP_DATE:case SUPER.INTERP_HOUR:case SUPER.INTERP_MINUTE:case SUPER.INTERP_SECONDE:break;default:throw "Unsupported interpolating function";}return ret;};thi$.getDispValueByIndex = function (index) {var array = this.array, count = this.count, meta = this.meta, formatter = this.formatter, ret;switch (meta.interp) {case SUPER.INTERP_ARRAYINDEX:ret = index == 0 ? "All" : formatter.format(array[index - 1]);break;case SUPER.INTERP_NUMBER:ret = index == 0 ? "All" : formatter.format(array[index - 1] + meta.delta * (index - 1));break;case SUPER.INTERP_YEAR:case SUPER.INTERP_HALFYEAR:case SUPER.INTERP_MONTH:case SUPER.INTERP_HALFMONTH:case SUPER.INTERP_QUATER:case SUPER.INTERP_WEEK:case SUPER.INTERP_BIWEEK:case SUPER.INTERP_DATE:case SUPER.INTERP_HOUR:case SUPER.INTERP_MINUTE:case SUPER.INTERP_SECONDE:break;default:throw "Unsupported interpolating function";}return ret;};var _initialize = function (array, meta) {var count;this.array = array;this.meta = meta;switch (meta.interp) {case SUPER.INTERP_ARRAYINDEX:count = array.length + 1;break;case SUPER.INTERP_NUMBER:count = (array[array.length - 1] - array[0] + meta.delta) / meta.delta;break;case SUPER.INTERP_YEAR:case SUPER.INTERP_HALFYEAR:case SUPER.INTERP_MONTH:case SUPER.INTERP_HALFMONTH:case SUPER.INTERP_QUATER:case SUPER.INTERP_WEEK:case SUPER.INTERP_BIWEEK:case SUPER.INTERP_DATE:case SUPER.INTERP_HOUR:case SUPER.INTERP_MINUTE:case SUPER.INTERP_SECONDE:break;default:throw "Unsupported interpolating function";}this.formatter = _getFormater.call(this, meta);this.count = count;};var _getFormater = function (meta) {var formatter;switch (tools.sql2string(meta.sql)) {case tools.SQL_INTEGER:case tools.SQL_NUMBER:case tools.SQL_CURRENCY:formatter = new (Class.forName("js.text.NumberFormat"))(meta.format);break;case tools.SQL_DATE:case tools.SQL_TIME:case tools.SQL_DATETIME:formatter = new (Class.forName("js.text.SimpleDateFormat"))(meta.format);break;default:formatter = new (Class.forName("js.text.Format"))(meta.format);}return formatter;};thi$.destroy = function () {delete this.Runtime;delete this.array;delete this.meta;delete this.formatter;arguments.callee.__super__.apply(this, arguments);}.$override(this.destroy);thi$._init = function (array, meta, Runtime) {if (array == undefined) {return;}if (!Class.isArray(array) || array.length < 1) {throw "Request a none empty array";}this.Runtime = Runtime;meta = meta || {};meta.sql = Class.isNumber(meta.sql) ? meta.sql : SQL.VARCHAR;meta.format = "";meta.interp = Class.isNumber(meta.interp) ? meta.interp : SUPER.INTERP_ARRAYINDEX;meta.delta = Class.isNumber(meta.delta) ? meta.delta : (tools.sql2string(meta.sql) === tools.SQL_INTEGER ? SUPER.DELTA_INTEGER : SUPER.DELTA_DECIMAL);_initialize.call(this, array, meta);};this._init.apply(this, arguments);}.$extend(js.lang.Object).$implements(com.jinfonet.report.slider.SliderDataProvider);